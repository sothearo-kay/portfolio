---
import type { CollectionEntry } from "astro:content"
import Separator from "~/components/common/Separator.astro"

interface Props {
  prevPost: CollectionEntry<"blog"> | null
  nextPost: CollectionEntry<"blog"> | null
}

const { prevPost, nextPost } = Astro.props
---

<div class="navigation">
  <Separator />
  <nav class="nav">
    {prevPost && (
      <a href={`/blog/${prevPost.id}`} class="card prev">
        <span class="label">Previous</span>
        <span class="title">{prevPost.data.title}</span>
      </a>
    )}

    {nextPost && (
      <a href={`/blog/${nextPost.id}`} class="card next">
        <span class="label">Next</span>
        <span class="title">{nextPost.data.title}</span>
      </a>
    )}
  </nav>
</div>

<style>
  .navigation {
    .separator {
      margin-block: var(--block-spacing);
    }

    .nav {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1.5rem;

      @media (max-width: 768px) {
        grid-template-columns: 1fr;
        gap: 1.25rem;
      }
    }

    .card {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
      padding: 1.5rem;
      border: 1px solid var(--color-border);
      border-radius: 8px;
      text-decoration: none;
      transition: background-color 0.2s ease;
      min-height: 0;

      &:hover {
        background-color: color-mix(in srgb, var(--color-accent) 50%, transparent);
      }

      &.prev {
        text-align: left;
      }

      &.next {
        text-align: right;
      }

      @media (max-width: 768px) {
        padding: 1rem;
      }
    }

    .label {
      font: var(--font-xs);
      font-family: var(--font-heading);
      font-weight: 500;
      color: var(--color-foreground-muted);
      text-transform: capitalize;
      letter-spacing: 0.05em;
    }

    .title {
      font: var(--font-sm);
      font-family: var(--font-heading);
      font-weight: 500;
    }
  }
</style>
